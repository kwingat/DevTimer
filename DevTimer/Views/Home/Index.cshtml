@{
    ViewBag.Title = "Home Page";

    int[] result = ViewBag.intArray;
    string test = "";

    for (int i = 0; i < result.Length - 1; ++i)
    {
        if (i == 0)
        {
            test = test + result[i];
        }
        else
        {
            test = test + "," + result[i];
        }
    }
}

@*<canvas id="myChart" width="800" height="400"></canvas>*@


@section scripts {
    @Scripts.Render("~/bundles/chart")
    
    <script language="javascript">
        var result = "@test";
        var resultsArray = result.split(',');
        var context = $("#myChart").get(0).getContext("2d");

        var data = {
            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
            datasets: [
                {
                    label: "My first dataset",
                    fillColor: "rgba(220,220,220,0,2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: resultsArray
                }
            ]
        };

        var options = {
            ///Boolean - Whether grid lines are shown across the chart
            scaleShowGridLines: true,
            //String - Colour of the grid lines
            scaleGridLineColor: "rgba(0,0,0,.05)",
            //Number - Width of the grid lines
            scaleGridLineWidth: 1,
            //Boolean - Whether the line is curved between points
            bezierCurve: true,
            //Number - Tension of the bezier curve between points
            bezierCurveTension: 0.4,
            //Boolean - Whether to show a dot for each point
            pointDot: true,
            //Number - Radius of each point dot in pixels
            pointDotRadius: 4,
            //Number - Pixel width of point dot stroke
            pointDotStrokeWidth: 1,
            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
            pointHitDetectionRadius: 20,
            //Boolean - Whether to show a stroke for datasets
            datasetStroke: true,
            //Number - Pixel width of dataset stroke
            datasetStrokeWidth: 2,
            //Boolean - Whether to fill the dataset with a colour
            datasetFill: true
        };

        var myLineChart = new Chart(context).Line(data, options);
    </script>
}
