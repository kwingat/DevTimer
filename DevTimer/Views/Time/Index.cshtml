@model IEnumerable<DevTimer.Domain.Entities.Work>
@{
    ViewBag.Title = "Time";
}

<div class="caption">
    <i class="fa fa-briefcase"></i>
    Time
</div>
<div class="btn-group"></div>
<div class="btn-group pull-right margin-top-bottom">
    <button onclick="window.location.href = '/Time/Edit/0'" id="newTime" class="btn green">
        Add New
        <i class="fa fa-plus"></i>
    </button>
    <button class="btn dropdown-toggle" data-toggle="dropdown">
        Options
        <i class="fa fa-angle-down"></i>
    </button>
    <ul class="dropdown-menu pull-right">
        <li><a href="/Time">Export to Excel</a></li>
    </ul>
</div>
<div>
    <table class="table table-striped table-advance table-hover">
        <thead></thead>
        <tbody>
            @foreach (var workday in Model.GroupBy(item => item.StartTime))
            {
                <tr>
                    <td>@workday.First().StartTime</td>
                </tr>

                foreach (var work in workday)
                {
                    <tr>
                        <td>
                            @work.Project
                        </td>
                        <td>
                            @work.StartTime
                        </td>
                        <td>
                            @work.EndTime
                        </td>
                        <td>
                            @work.Hours
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
    
</div>
